{
  "depends": ["base"],
  "enums": [
    {
      "name": "CompletionTriggerKind", "optional": true, "value_type": "int",
      "values": [
        {"name": "Invoked", "value": 1},
        {"name": "TriggerCharacter", "value": 2},
        {"name": "TriggerForIncompleteCompletions", "value": 3}
      ]
    },
    {
      "name": "InsertTextFormat", "optional": true, "value_type": "int",
      "values": [
        {"name": "PlainText", "value": 1},
        {"name": "Snippet", "value": 2}
      ]
    },
    {
      "name": "CompletionItemTag", "optional": true, "value_type": "int",
      "values": [
        {"name": "Deprecated", "value": 1}
      ]
    },
    {
      "name": "InsertTextMode", "optional": true, "value_type": "int",
      "values": [
        {"name": "asIs", "value": 1},
        {"name": "adjustIndentation", "value": 2}
      ]
    }
  ],
  "variants": [],
  "structs": [
    {
      "name": "FormattingOptions", "encode": true, "decode": false,
      "fields": [
        {"name": "tabSize", "type": "int"},
        {"name": "insertSpaces", "type": "bool"},
        {"name": "trimTrailingWhitespace", "type": "bool", "optional": true},
        {"name": "insertFinalNewline", "type": "bool", "optional": true},
        {"name": "trimFinalNewlines", "type": "bool", "optional": true}
      ]
    },
    {
      "name": "DocumentFormattingParams", "encode": true, "decode": false,
      "fields": [
        {"name": "textDocument", "type": "TextDocumentIdentifier"},
        {"name": "options", "type": "FormattingOptions"}
      ]
    },
    {
      "name": "CompletionContext", "encode": true, "decode": false,
      "optional": true,
      "fields": [
        {"name": "triggerKind", "type": "CompletionTriggerKind"},
        {"name": "triggerCharacter", "type": "string", "optional": true}
      ]
    },
    {
      "name": "CompletionParams", "extends": ["TextDocumentPositionParams"],
      "encode": true, "decode": false,
      "fields": [
        {"name": "context", "type": "CompletionContext", "optional": true}
      ]
    },
    {
      "name": "CompletionList", "encode": false, "decode": true,
      "fields": [
        {"name": "isIncomplete", "type": "bool"},
        {
          "name": "itemDefaults", "optional": true,
          "struct": [
            {"name": "commitCharacters", "optional": true, "array": true, "type": "string"},
            {
              "name": "editRange", "optional": true,
              "variant": [
                {"type": "Range"},
                {"struct": [
                  {"name": "insert", "type": "Range"},
                  {"name": "replace", "type": "Range"}
                ]
                }
              ]
            },
            {"name": "insertTextFormat", "optional": true, "type": "InsertTextFormat"},
            {"name": "insertTextMode", "optional": true, "type": "insertTextMode"},
            {"name": "data", "optional": true, "type": "any"}
          ]
        },
        {"name": "items", "array": true, "type": "CompletionItem"}
      ]
    },
    {
      "name": "InsertReplaceEdit", "encode": false, "decode": true,
      "fields": [
        {"name": "newText", "type": "string"},
        {"name": "insert", "type": "Range"},
        {"name": "replace", "type": "Range"}
      ]
    },
    {
      "name": "CompletionItemLabelDetails", "encode": false, "decode": true,
      "fields": [
        {"name": "detail", "optional": true, "type": "string"},
        {"name": "description", "optional": true, "type": "string"}
      ]
    },
    {
      "name": "CompletionItem", "encode": false, "decode": true,
      "optional": true, "array": true,
      "fields": [
        {"name": "label", "type": "string"},
        {"name": "labelDetails", "optional": true, "type": "CompletionItemLabelDetails"},
        {"name": "kind", "optional": true, "type": "CompletionItemKind"},
        {"name": "tags", "optional": true, "array": true, "type": "CompletionItemTag"}
        .....
      ]
    }
  ]
}
